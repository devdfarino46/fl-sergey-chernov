(()=>{const e=document.querySelector(".header"),t=document.querySelector(".faq"),o=document.querySelectorAll(".item-faq"),s=document.querySelector(".img-loop"),l=document.querySelectorAll(".img-link"),r=document.querySelector(".about-video"),c=document.querySelectorAll(".review"),i=document.querySelector(".reviews"),n=document.querySelector(".services"),d=document.querySelectorAll(".review-photo"),a=document.querySelector(".cases"),u=document.querySelector(".carousel-services"),v=document.querySelector(".player-video"),m=document.querySelectorAll(".parallax"),y=document.querySelectorAll(".fix-rect");if(m.forEach((e=>{window.addEventListener("scroll",(()=>{const t=e.querySelectorAll(".parallax__elem");let o=e.getBoundingClientRect(),s=o.y+o.height/2,l=window.innerHeight/2;t.forEach((e=>{const t=Number(e.dataset.move)||.1;e.style.transform=`translateY(${(s-l)*t}px) `}))}))})),y.forEach((e=>{const t=()=>{const t=e.querySelectorAll(".fix-rect__elem");let o=e.getBoundingClientRect();t.forEach((t=>{const s=Number(e.dataset.height),l=Number(e.dataset.top);t.getBoundingClientRect(),o.top<window.innerHeight&&o.bottom>0?t.style.display="block":t.style.display="none",o.top<window.innerHeight&&(t.style.top=`${o.top+l}px`),o.top<=0&&(t.style.top=`${l}px`),o.bottom<=l+s&&(t.style.top=o.bottom-s+"px")}))};t(),window.addEventListener("scroll",t),window.addEventListener("resize",t)})),e){e.querySelector(".header__menu-btn").addEventListener("click",(()=>{e.classList.toggle("--active"),document.body.classList.toggle("no-scroll")}));const t=()=>{window.scrollY>10?e.classList.add("--scroll"):e.classList.remove("--scroll")};t(),window.addEventListener("scroll",t),e.querySelectorAll(".header .nav__item.rel").forEach((e=>{e.addEventListener("click",(t=>{e.classList.toggle("--active")}))}))}if(u){const e=u.querySelector(".carousel-services__list");u.appendChild(e.cloneNode(!0)),u.appendChild(e.cloneNode(!0)),setInterval((()=>{u.scrollBy({left:1}),u.children[1].getBoundingClientRect().left<=0&&u.scroll({left:0})}),8)}if(t&&o.forEach(((e,t)=>{e.querySelector(".item-faq__button").addEventListener("click",(()=>{o.forEach(((e,o)=>{t!==o&&e.classList.remove("--active")})),e.classList.toggle("--active")}))})),r&&r.querySelector(".about-video>button").addEventListener("click",(()=>{r.classList.add("--active")})),l.forEach((e=>{const t=s.querySelector(".img-loop img"),o=e.querySelector(".img-link img");e.addEventListener("click",(()=>{t.setAttribute("src",o.getAttribute("data-src")),s.classList.add("--active"),document.body.classList.add("no-scroll")})),s.addEventListener("click",(e=>{s.classList.remove("--active"),document.body.classList.remove("no-scroll")}))})),i){const e=i.querySelector(".reviews__slider .swiper");i.querySelector(".swiper-slide.rel .fiers"),new Swiper(e,{slidesPerView:"auto",spaceBetween:15,navigation:{nextEl:".reviews__slider .swiper-button-next",prevEl:".reviews__slider .swiper-button-prev"}})}if(c.forEach((e=>{const t=e.querySelector(".review__text"),o=e.querySelector(".review__full-btn");t.scrollHeight<=t.clientHeight&&o.setAttribute("disabled",""),o.addEventListener("click",(()=>{t.classList.add("--full"),o.setAttribute("disabled",""),e.style.maxHeight="none"}))})),d.forEach((e=>{const t=e.querySelector("video"),o=e.querySelector("button"),s=v.querySelector("video");i.addEventListener("mousemove",(o=>{o.composedPath().includes(e)?t.play():t.pause()})),i.addEventListener("touchmove",(t=>{t.composedPath().includes(e)?e.classList.add("--hover"):e.classList.remove("--hover")})),o.addEventListener("click",(()=>{v.classList.add("--opened"),document.body.classList.add("no-scroll"),s.play()})),v.addEventListener("click",(e=>{const t=v.querySelector(".video-js");e.composedPath().includes(t)||(v.classList.remove("--opened"),document.body.classList.remove("no-scroll"),s.pause())}))})),n&&n.querySelectorAll(".services__item").forEach(((e,t)=>{const o=e.querySelector(".services__item-title");e.querySelector(".services__item-icon");let s=t<10?`0${t+1}`:`${t+1}`;o.innerHTML=`<b>${s}</b>${o.innerHTML}`,n.addEventListener("touchmove",(t=>{t.composedPath().includes(e)?e.classList.add("--hover"):e.classList.remove("--hover")}))})),a){const e=a.querySelector(".aim-icon"),t=a.querySelectorAll(".case-short");a.addEventListener("mousemove",(t=>{e.style.left=t.clientX+"px",e.style.top=t.clientY+"px",e.classList.add("--hover")})),a.addEventListener("mouseleave",(()=>{e.classList.remove("--hover")})),t.forEach(((t,o)=>{t.addEventListener("mouseenter",(t=>{e.classList.add("--in-item")})),t.addEventListener("mouseleave",(t=>{e.classList.remove("--in-item")})),t.addEventListener("click",(e=>{const o=t.getAttribute("href"),s=document.querySelector(o),l=s.querySelector(".case-popup__close-btn");s.classList.add("--active"),document.body.classList.add("no-scroll"),l.addEventListener("click",(()=>{s.classList.remove("--active"),document.body.classList.remove("no-scroll")}))}))}))}})();