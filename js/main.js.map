{"version":3,"file":"main.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,2BAA2B;AACtE,KAAK;AACL,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,8BAA8B,eAAe;AAC7C;AACA;AACA,8BAA8B,IAAI;AAClC;AACA;AACA,8BAA8B,qBAAqB;AACnD;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,SAAS;AACzC;AACA,gCAAgC,SAAS;AACzC;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,QAAQ,QAAQ,QAAQ;AACvD,4BAA4B,IAAI,MAAM,gBAAgB;AACtD;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,sBAAsB;AACtB,oCAAoC;AACpC;AACA;AACA;AACA,wDAAwD;AACxD,qDAAqD;AACrD,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,KAAK;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,8CAA8C,kBAAkB;AAChE;AACA;AACA;AACA,SAAS;AACT;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,mBAAmB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,0CAA0C,mBAAmB;AAC7D;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,EAAE;AACV,QAAQ,EAAE;AACV;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,KAAK;AAC3C;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,CAAC,E","sources":["webpack://gulp/../Portfolio/fl-sergey-chernov/babel/main.js"],"sourcesContent":["const header = document.querySelector('.header');\r\nconst faq = document.querySelector('.faq');\r\nconst itemFaqs = document.querySelectorAll('.item-faq');\r\nconst imgLoop = document.querySelector('.img-loop');\r\nconst imgLinks = document.querySelectorAll('.img-link');\r\nconst aboutVideo = document.querySelector('.about-video');\r\nconst reviewItems = document.querySelectorAll('.review');\r\nconst reviews = document.querySelector('.reviews');\r\nconst services = document.querySelector('.services');\r\nconst reviewPhotos = document.querySelectorAll('.review-photo');\r\nconst cases = document.querySelector('.cases');\r\nconst carouselServices = document.querySelector('.carousel-services');\r\nconst playerVideo = document.querySelector('.player-video');\r\nconst casesGrid = document.querySelector('.cases-grid');\r\nconst getCxMarket = document.querySelector('.get-cx-market');\r\nconst stepsVector = document.querySelector('.steps-vector');\r\nconst hYadirect = document.querySelector('.h-yadirect');\r\nconst aboutYadirect = document.querySelector('.about-yadirect');\r\n\r\nconst parallaxes = document.querySelectorAll('.parallax');\r\nconst fixRects = document.querySelectorAll('.fix-rect');\r\nconst textCcolorAnim = document.querySelectorAll('.text-color-anim');\r\nconst mouseMoveAnim = document.querySelectorAll('.mouse-move-anim');\r\n\r\nconst clamp = (x, min, max) => {\r\n  if ((x < min)) {\r\n    return min;\r\n  } else if (x > max) {\r\n    return max;\r\n  } else {\r\n    return x;\r\n  }\r\n}\r\n\r\nparallaxes.forEach((parent) => {\r\n  window.addEventListener('scroll', () => {\r\n    const elems = parent.querySelectorAll('.parallax__elem');\r\n\r\n    let rect = parent.getBoundingClientRect();\r\n    let yCenter = rect.y + rect.height / 2;\r\n    let yScroll = window.innerHeight / 2;\r\n\r\n    elems.forEach((elem) => {\r\n      const move = Number(elem.dataset.move) || 0.1;\r\n  \r\n      elem.style.transform = `translateY(${(yCenter - yScroll) * move}px) `;\r\n    });\r\n  })\r\n})\r\n\r\nfixRects.forEach((parent) => {\r\n  const func = () => {\r\n    const elems = parent.querySelectorAll('.fix-rect__elem');\r\n\r\n    const media = Number(parent.dataset.media) || 0;\r\n\r\n    if (window.innerWidth > media) {\r\n      let rect = parent.getBoundingClientRect();\r\n\r\n      elems.forEach((elem) => {\r\n        const height = Number(parent.dataset.height);\r\n        const top = Number(parent.dataset.top);\r\n\r\n        let elemRect = elem.getBoundingClientRect();\r\n\r\n        // Hide elements that are not in the viewport\r\n        if (\r\n          rect.top < window.innerHeight &&\r\n          rect.bottom > 0\r\n        ) {\r\n          elem.style.display = 'block';\r\n        } else {\r\n          elem.style.display = 'none';\r\n        }\r\n\r\n        // Fix elements that are not in the viewport\r\n        if (rect.top < window.innerHeight) {\r\n          elem.style.top = `${rect.top + top}px`;\r\n        }\r\n        if (rect.top <= 0) {\r\n          elem.style.top = `${top}px`;\r\n        }\r\n        if (rect.bottom <= top + height) {\r\n          elem.style.top = `${rect.bottom - height}px`;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  func();\r\n  window.addEventListener('scroll', func);\r\n  window.addEventListener('resize', func);\r\n})\r\n\r\nif (header) {\r\n  const menuBtn = header.querySelector('.header__menu-btn');\r\n\r\n  menuBtn.addEventListener('click', () => {\r\n    header.classList.toggle('--active');\r\n    document.body.classList.toggle('no-scroll');\r\n  });\r\n\r\n  let oldScrollY = 0;\r\n\r\n  const scrollEffect = () => {\r\n    let newScrollY = window.scrollY;\r\n    if (window.scrollY > 10) {\r\n      header.classList.add('--scroll');\r\n\r\n      if (newScrollY > oldScrollY) {\r\n        header.classList.add('--scroll-down');\r\n        oldScrollY = newScrollY;\r\n      } else {\r\n        header.classList.remove('--scroll-down');\r\n        oldScrollY = newScrollY;\r\n      }\r\n    } else {\r\n      header.classList.remove('--scroll');\r\n    }\r\n  }\r\n\r\n  scrollEffect();\r\n  window.addEventListener('scroll', scrollEffect);\r\n\r\n  const navItemsRel = header.querySelectorAll('.header .nav__item.rel');\r\n\r\n  navItemsRel.forEach((item) => {\r\n    item.addEventListener('click', ev => {\r\n      item.classList.toggle('--active');\r\n    });\r\n  })\r\n}\r\n\r\nif (carouselServices) {\r\n  const list = carouselServices.querySelector('.carousel-services__list');\r\n\r\n  carouselServices.appendChild(list.cloneNode(true));\r\n  carouselServices.appendChild(list.cloneNode(true));\r\n  carouselServices.appendChild(list.cloneNode(true));\r\n  carouselServices.appendChild(list.cloneNode(true));\r\n  carouselServices.appendChild(list.cloneNode(true));\r\n  carouselServices.appendChild(list.cloneNode(true));\r\n  setInterval(() => {\r\n    carouselServices.scrollBy({ left: 1 });\r\n    if (carouselServices.children[1].getBoundingClientRect().left <= 0) {\r\n      carouselServices.scroll({ left: 0 });\r\n    }\r\n  }, 8);\r\n}\r\n\r\nif (faq) {\r\n  itemFaqs.forEach((itemFaq, index) => {\r\n    const btn = itemFaq.querySelector('.item-faq__button');\r\n    \r\n    btn.addEventListener('click', () => {\r\n      itemFaqs.forEach((itemFaq1, index1) => {\r\n        if (index !== index1) {\r\n          itemFaq1.classList.remove('--active');\r\n        }\r\n      });\r\n\r\n      itemFaq.classList.toggle('--active');\r\n    });\r\n  });\r\n}\r\n\r\nif (aboutVideo) {\r\n  const btn = aboutVideo.querySelector('.about-video>button');\r\n  btn.addEventListener('click', () => {\r\n    aboutVideo.classList.add('--active');\r\n  });\r\n}\r\n\r\nimgLinks.forEach( imgLink => {\r\n  const img = imgLoop.querySelector('.img-loop img');\r\n  const imgSmall = imgLink.querySelector('.img-link img');\r\n  imgLink.addEventListener('click', () => {\r\n    img.setAttribute('src', imgSmall.getAttribute('data-src'));\r\n    imgLoop.classList.add('--active');\r\n    document.body.classList.add('no-scroll');\r\n  });\r\n\r\n  imgLoop.addEventListener('click', (ev) => {\r\n    imgLoop.classList.remove('--active');\r\n    document.body.classList.remove('no-scroll');\r\n  })\r\n});\r\n\r\nif (reviews) {\r\n  const slider = reviews.querySelector('.reviews__slider .swiper');\r\n  const fiers = reviews.querySelector('.swiper-slide.rel .fiers');  \r\n\r\n  const swiper = new Swiper(slider, {\r\n    slidesPerView: 'auto',\r\n    spaceBetween: 15,\r\n\r\n    navigation: {\r\n      nextEl: '.reviews__slider .swiper-button-next',\r\n      prevEl: '.reviews__slider .swiper-button-prev',\r\n    }\r\n  });\r\n}\r\n\r\nreviewItems.forEach(review => {\r\n  const text = review.querySelector('.review__text');\r\n  const fullBtn = review.querySelector('.review__full-btn');\r\n\r\n  if (text.scrollHeight <= text.clientHeight) {\r\n    fullBtn.setAttribute('disabled', '');\r\n  }\r\n  \r\n  fullBtn.addEventListener('click', () => {\r\n    text.classList.add('--full');\r\n    fullBtn.setAttribute('disabled', '');\r\n    review.style.maxHeight = 'none';\r\n  })\r\n});\r\n\r\nreviewPhotos.forEach(review => {\r\n  /**\r\n   * @type {HTMLVideoElement}\r\n   */\r\n  const video = review.querySelector('video');\r\n  const btn = review.querySelector('button');\r\n  const playerVideoElem = playerVideo.querySelector('video');\r\n  \r\n\r\n  reviews.addEventListener('mousemove', (ev) => {\r\n    if (ev.composedPath().includes(review)) {\r\n      video.play();\r\n    } else {\r\n      video.pause();\r\n    }\r\n  });\r\n\r\n  reviews.addEventListener('touchmove', (ev) => {\r\n    if (ev.composedPath().includes(review)) {\r\n      review.classList.add('--hover');\r\n    } else {\r\n      review.classList.remove('--hover');\r\n    }\r\n  });\r\n\r\n  btn.addEventListener('click', () => {\r\n    playerVideo.classList.add('--opened');\r\n    document.body.classList.add('no-scroll');\r\n    playerVideoElem.play();\r\n  });\r\n\r\n  playerVideo.addEventListener('click', (ev) => {\r\n    const videoJs = playerVideo.querySelector('.video-js');\r\n    if (!ev.composedPath().includes(videoJs)) {\r\n      playerVideo.classList.remove('--opened');\r\n      document.body.classList.remove('no-scroll');\r\n      playerVideoElem.pause();\r\n    }\r\n  })\r\n})\r\n\r\nif (services) {\r\n  const items = services.querySelectorAll('.services__item');\r\n  \r\n  items.forEach((item, index) => {\r\n    const title = item.querySelector('.services__item-title');\r\n    \r\n    let num = index < 10 ? `0${index+1}`  : `${index+1}`;\r\n    title.innerHTML = `<b>${num}</b>${title.innerHTML}`;\r\n    \r\n    services.addEventListener('touchmove', ev => {\r\n      if (ev.composedPath().includes(item)) {\r\n        item.classList.add('--hover');\r\n      } else {\r\n        item.classList.remove('--hover');\r\n      }\r\n    })\r\n  });\r\n}\r\n\r\nif (cases) {\r\n  const aim = cases.querySelector('.aim-icon');\r\n  const items = cases.querySelectorAll('.case-short');\r\n\r\n  // Aim position\r\n  cases.addEventListener('mousemove', ev => {\r\n    aim.style.left = ev.clientX+ 'px';\r\n    aim.style.top = ev.clientY+ 'px';\r\n    aim.classList.add('--hover');\r\n  });\r\n  cases.addEventListener('mouseleave', () => {\r\n    aim.classList.remove('--hover');\r\n  });\r\n  \r\n  items.forEach((item, index) => {\r\n    // Aim scale\r\n    item.addEventListener('mouseenter', ev => {\r\n      aim.classList.add('--in-item');\r\n    });\r\n    item.addEventListener('mouseleave', ev => {\r\n      aim.classList.remove('--in-item');\r\n    });\r\n\r\n    // Open popup\r\n    item.addEventListener('click', ev => {\r\n      const href = item.getAttribute('href');\r\n\r\n      const popup = document.querySelector(href);\r\n      const closePopupBtn = popup.querySelector('.case-popup__close-btn');\r\n\r\n      popup.classList.add('--active');\r\n      document.body.classList.add('no-scroll');\r\n\r\n      closePopupBtn.addEventListener('click', () => {\r\n        popup.classList.remove('--active');\r\n        document.body.classList.remove('no-scroll');\r\n      });\r\n    })\r\n  })\r\n}\r\n\r\nif (casesGrid) {\r\n  const items = casesGrid.querySelectorAll('.cases-grid__item');\r\n\r\n  items.forEach((item, index) => {\r\n    item.addEventListener('click', (ev) => {\r\n      const href = item.getAttribute('href');\r\n\r\n      const popup = document.querySelector(href);\r\n      const closePopupBtn = popup.querySelector('.case-popup__close-btn');\r\n\r\n      popup.classList.add('--active');\r\n      document.body.classList.add('no-scroll');\r\n\r\n      closePopupBtn.addEventListener('click', () => {\r\n        popup.classList.remove('--active');\r\n        document.body.classList.remove('no-scroll');\r\n      });\r\n    })\r\n  })\r\n}\r\n\r\nif (getCxMarket) {\r\n  const fixWrap = getCxMarket.querySelector('.get-cx-market__fix-wrap');\r\n  const items = getCxMarket.querySelectorAll('.get-cx-market__item');\r\n\r\n  const SCROLL_SH = 250; // scroll step height\r\n  const MOBILE = 980; // mobile breakpoint\r\n  const ITEMS_COUNT = items.length; // items count (3)\r\n\r\n  const scrollAnim = () => {\r\n    if (window.innerWidth > MOBILE) {\r\n      const rect = getCxMarket.getBoundingClientRect(); // backdrop rect\r\n      const fRect = fixWrap.getBoundingClientRect(); // fix wrap rect\r\n      const height = fRect.height + SCROLL_SH * ITEMS_COUNT; // height of backdrop\r\n\r\n      getCxMarket.style.height = height + 'px';\r\n      \r\n      if (rect.top <= 0 && rect.bottom >= fRect.height) {\r\n        header.classList.add('--scroll-look');\r\n        fixWrap.classList.add('--fixed');\r\n        fixWrap.classList.remove('--bottom');\r\n        \r\n        items.forEach((item, i) => {\r\n          if (i !== 0) {\r\n            item.style.marginTop = `${\r\n              clamp(\r\n                rect.top + SCROLL_SH * (items.length - 1) - i * SCROLL_SH, \r\n                i* SCROLL_SH - (i+1) * SCROLL_SH, \r\n                0)\r\n            }px`;\r\n          }\r\n        });\r\n      } else if (rect.bottom < fRect.height)  {\r\n        header.classList.remove('--scroll-look');\r\n        fixWrap.classList.remove('--fixed');\r\n        fixWrap.classList.add('--bottom');\r\n      } else {\r\n        header.classList.remove('--scroll-look');\r\n        fixWrap.classList.remove('--fixed');\r\n        fixWrap.classList.remove('--bottom');\r\n      }\r\n    }\r\n  }\r\n  scrollAnim();\r\n  window.addEventListener('scroll', scrollAnim);\r\n}\r\n\r\nif (stepsVector) {\r\n  const listBackdrop = stepsVector.querySelector('.steps-vector__list-backdrop');\r\n  const list = stepsVector.querySelector('.steps-vector__list');\r\n\r\n  if (list && listBackdrop && window.innerWidth > 1362) {\r\n    const rows = list.querySelectorAll('.steps-vector__l-row');\r\n\r\n    const SCROLL_SH = 800;\r\n        \r\n    const scrollAnim = () => {\r\n      const rect = list.getBoundingClientRect();\r\n      const bRect = listBackdrop.getBoundingClientRect();\r\n      const lrRect = rows[rows.length - 1].getBoundingClientRect();\r\n      \r\n      listBackdrop.style.height = `${\r\n        SCROLL_SH * rows.length + lrRect.height\r\n      }px`; // Init backdrop height\r\n\r\n       // If list is in viewport\r\n      if (bRect.top <= 0 && bRect.bottom >= lrRect.height) {\r\n        header.classList.add('--scroll-look');\r\n        list.dataset.pos = \"fixed\";\r\n        list.style.top = null;\r\n      // If scroll down\r\n      } else if (bRect.bottom < lrRect.height) {\r\n        header.classList.remove('--scroll-look');\r\n        list.dataset.pos = null;\r\n        list.style.transform  = `translateY(${rect.y - lrRect.y}px)`;\r\n        list.style.top = `${\r\n          bRect.height - rect.height - \r\n          (rect.y - lrRect.y)\r\n        }px`;\r\n      // If scroll up\r\n      } else {\r\n        header.classList.remove('--scroll-look');\r\n        list.dataset.pos = null;\r\n        list.style.transform  = `translateY(0px)`;\r\n        list.style.top = null;\r\n      }\r\n\r\n      // If scroll rows\r\n      rows.forEach((row, rIndex) => {\r\n        const vector = row.querySelector('._vector');\r\n        const arrow = row.querySelector('._arrow');\r\n        const items = row.querySelectorAll('.steps-vector__item');\r\n        \r\n        const rowRect = row.getBoundingClientRect();\r\n        const vectorRect = vector.getBoundingClientRect();\r\n\r\n        // Vector scroll animation\r\n        vector.style.width = `${\r\n          clamp(\r\n            (-bRect.top / SCROLL_SH) - rIndex,\r\n            -items.length + 1,\r\n            2\r\n          ) * 100\r\n        }%`;\r\n\r\n        // Arrow scroll animation\r\n        if (arrow) {\r\n          arrow.style.transform = `translateX(${\r\n            clamp(\r\n              -bRect.top / SCROLL_SH - rIndex,\r\n              0,\r\n              1\r\n            ) * 80\r\n          }px)`;\r\n        }\r\n        \r\n        // Arrow rotate animation on hover\r\n        items.forEach((item, i) => {\r\n          item.addEventListener('mouseenter', ev => {\r\n            arrow.style.rotate = `20deg`;\r\n          });\r\n          item.addEventListener('mouseleave', ev => {\r\n            arrow.style.rotate = `0deg`;\r\n          })\r\n        })\r\n          \r\n        // If scroll in row\r\n        if (bRect.top <= rIndex * -SCROLL_SH &&\r\n          bRect.top > (rIndex + 1) * -SCROLL_SH\r\n        ) {\r\n          // Move top position row\r\n          list.style.transform  = `translateY(${rect.y - rowRect.y}px)`;\r\n\r\n          items.forEach((item, iIndex) => {\r\n            const icon = item.querySelector('img');\r\n            const text = item.querySelector('.steps-vector__item-text');\r\n            const itemRect = item.getBoundingClientRect();\r\n            const iconRect = icon.getBoundingClientRect();\r\n\r\n            // Pulse animation vector\r\n            if (vectorRect.right >= iconRect.left && vectorRect.right <= iconRect.right) {\r\n              vector.classList.add('--pulse');\r\n              vector.addEventListener('transitionend', () => {\r\n                vector.classList.remove('--pulse');\r\n              });\r\n            }\r\n\r\n            // If vector > item left dot\r\n            if (vectorRect.right > itemRect.left && vectorRect.width > 100) {\r\n              let progress = clamp((vectorRect.right - itemRect.left) / itemRect.width , 0, 1);\r\n              \r\n              icon.style.transform = `rotate(${\r\n                Math.abs(Math.sin(progress * Math.PI) * 30)\r\n              }deg)`;\r\n\r\n              icon.style.opacity = (80 + progress * 20) + '%';\r\n              icon.style.filter = `blur(${(1 - progress) * 3}px)`;\r\n\r\n              // And < right dot\r\n              if (vectorRect.right < itemRect.right) {\r\n                item.classList.add('--active');\r\n              } else {\r\n                item.classList.remove('--active');\r\n              }\r\n            } else {\r\n              icon.style.transform = null;\r\n              icon.style.opacity = null;\r\n              icon.style.filter = null;\r\n              item.classList.remove('--active');\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    window.addEventListener('load', scrollAnim);\r\n    window.addEventListener('scroll', scrollAnim);\r\n  }\r\n}\r\n\r\nmouseMoveAnim.forEach(el => {\r\n  const move = Number(el.dataset.move) || 30;\r\n  let startX = 0;\r\n  let startY = 0;\r\n\r\n  el.addEventListener('mouseenter', (ev) => {\r\n    el.setAttribute('mouseevent', 'enter');\r\n    startX = ev.clientX;\r\n    startY = ev.clientY;\r\n  })\r\n  el.addEventListener('mousemove', (ev) => {\r\n    el.setAttribute('mouseevent', 'move');\r\n\r\n    const rect = el.getBoundingClientRect();\r\n    const x = (ev.clientX - startX) / rect.width * move;\r\n    const y = (ev.clientY - startY) / rect.height * move;\r\n\r\n    el.style.translate = `\r\n      ${x}px\r\n      ${y}px\r\n    `;\r\n  });\r\n  el.addEventListener('mouseleave', (ev) => {\r\n    el.setAttribute('mouseevent','leave');\r\n    el.style.translate = '0 0';\r\n  });\r\n});\r\n\r\ntextCcolorAnim.forEach(el => {\r\n  const SCROLL_H = Number(el.dataset.scrollh) || 500;\r\n\r\n  let words = el.textContent.split('\\n').join(' ').split(' ');\r\n  let spans = '';\r\n  words.forEach((word, i) => {\r\n    if (word.length > 0) {\r\n      spans += `<span class=\"_word\">${word}</span> `;\r\n    }\r\n  });\r\n  \r\n  el.innerHTML = spans;\r\n  let spansArr = el.querySelectorAll('span._word');\r\n\r\n  const textAnimation = () => {\r\n    let spanH = SCROLL_H / spansArr.length; // (35.71)\r\n    let rect = aboutYadirect.getBoundingClientRect();\r\n    let top = clamp(-rect.top + SCROLL_H, 0, SCROLL_H);\r\n    \r\n    spansArr.forEach((span, i) => {\r\n      span.style.transition = null;\r\n      span.style.opacity = `${\r\n        clamp((top - spanH * i) / spanH, 0, 1) * 0.7 + 0.3\r\n      }`;\r\n    });\r\n  }\r\n  \r\n  window.addEventListener('load', textAnimation);\r\n  window.addEventListener('scroll', textAnimation);\r\n});"],"names":[],"sourceRoot":""}