{"version":3,"file":"main.js","names":["header","document","querySelector","faq","itemFaqs","querySelectorAll","imgLoop","imgLinks","aboutVideo","reviewItems","reviews","services","reviewPhotos","cases","carouselServices","playerVideo","casesGrid","getCxMarket","stepsVector","hYadirect","aboutYadirect","parallaxes","fixRects","textCcolorAnim","mouseMoveAnim","clamp","x","min","max","forEach","parent","window","addEventListener","elems","rect","getBoundingClientRect","yCenter","y","height","yScroll","innerHeight","elem","move","Number","dataset","style","transform","concat","func","media","innerWidth","top","elemRect","bottom","display","menuBtn","classList","toggle","body","oldScrollY","scrollEffect","newScrollY","scrollY","add","remove","navItemsRel","item","ev","list","appendChild","cloneNode","setInterval","scrollBy","left","children","scroll","itemFaq","index","btn","itemFaq1","index1","imgLink","img","imgSmall","setAttribute","getAttribute","slider","fiers","swiper","Swiper","slidesPerView","spaceBetween","navigation","nextEl","prevEl","review","text","fullBtn","scrollHeight","clientHeight","maxHeight","video","playerVideoElem","composedPath","includes","play","pause","videoJs","items","title","num","innerHTML","aim","clientX","clientY","href","popup","closePopupBtn","fixWrap","SCROLL_SH","MOBILE","ITEMS_COUNT","length","scrollAnim","fRect","i","marginTop","listBackdrop","rows","bRect","lrRect","pos","row","rIndex","vector","arrow","rowRect","vectorRect","width","rotate","iIndex","icon","itemRect","iconRect","right","progress","Math","abs","sin","PI","opacity","filter","el","startX","startY","translate","SCROLL_H","scrollh","words","textContent","split","join","spans","word","spansArr","textAnimation","spanH","span","transition"],"sources":["main.js"],"sourcesContent":["const header = document.querySelector('.header');\nconst faq = document.querySelector('.faq');\nconst itemFaqs = document.querySelectorAll('.item-faq');\nconst imgLoop = document.querySelector('.img-loop');\nconst imgLinks = document.querySelectorAll('.img-link');\nconst aboutVideo = document.querySelector('.about-video');\nconst reviewItems = document.querySelectorAll('.review');\nconst reviews = document.querySelector('.reviews');\nconst services = document.querySelector('.services');\nconst reviewPhotos = document.querySelectorAll('.review-photo');\nconst cases = document.querySelector('.cases');\nconst carouselServices = document.querySelector('.carousel-services');\nconst playerVideo = document.querySelector('.player-video');\nconst casesGrid = document.querySelector('.cases-grid');\nconst getCxMarket = document.querySelector('.get-cx-market');\nconst stepsVector = document.querySelector('.steps-vector');\nconst hYadirect = document.querySelector('.h-yadirect');\nconst aboutYadirect = document.querySelector('.about-yadirect');\n\nconst parallaxes = document.querySelectorAll('.parallax');\nconst fixRects = document.querySelectorAll('.fix-rect');\nconst textCcolorAnim = document.querySelectorAll('.text-color-anim');\nconst mouseMoveAnim = document.querySelectorAll('.mouse-move-anim');\n\nconst clamp = (x, min, max) => {\n  if ((x < min)) {\n    return min;\n  } else if (x > max) {\n    return max;\n  } else {\n    return x;\n  }\n}\n\nparallaxes.forEach((parent) => {\n  window.addEventListener('scroll', () => {\n    const elems = parent.querySelectorAll('.parallax__elem');\n\n    let rect = parent.getBoundingClientRect();\n    let yCenter = rect.y + rect.height / 2;\n    let yScroll = window.innerHeight / 2;\n\n    elems.forEach((elem) => {\n      const move = Number(elem.dataset.move) || 0.1;\n  \n      elem.style.transform = `translateY(${(yCenter - yScroll) * move}px) `;\n    });\n  })\n})\n\nfixRects.forEach((parent) => {\n  const func = () => {\n    const elems = parent.querySelectorAll('.fix-rect__elem');\n\n    const media = Number(parent.dataset.media) || 0;\n\n    if (window.innerWidth > media) {\n      let rect = parent.getBoundingClientRect();\n\n      elems.forEach((elem) => {\n        const height = Number(parent.dataset.height);\n        const top = Number(parent.dataset.top);\n\n        let elemRect = elem.getBoundingClientRect();\n\n        // Hide elements that are not in the viewport\n        if (\n          rect.top < window.innerHeight &&\n          rect.bottom > 0\n        ) {\n          elem.style.display = 'block';\n        } else {\n          elem.style.display = 'none';\n        }\n\n        // Fix elements that are not in the viewport\n        if (rect.top < window.innerHeight) {\n          elem.style.top = `${rect.top + top}px`;\n        }\n        if (rect.top <= 0) {\n          elem.style.top = `${top}px`;\n        }\n        if (rect.bottom <= top + height) {\n          elem.style.top = `${rect.bottom - height}px`;\n        }\n      });\n    }\n  }\n\n  func();\n  window.addEventListener('scroll', func);\n  window.addEventListener('resize', func);\n})\n\nif (header) {\n  const menuBtn = header.querySelector('.header__menu-btn');\n\n  menuBtn.addEventListener('click', () => {\n    header.classList.toggle('--active');\n    document.body.classList.toggle('no-scroll');\n  });\n\n  let oldScrollY = 0;\n\n  const scrollEffect = () => {\n    let newScrollY = window.scrollY;\n    if (window.scrollY > 10) {\n      header.classList.add('--scroll');\n\n      if (newScrollY > oldScrollY) {\n        header.classList.add('--scroll-down');\n        oldScrollY = newScrollY;\n      } else {\n        header.classList.remove('--scroll-down');\n        oldScrollY = newScrollY;\n      }\n    } else {\n      header.classList.remove('--scroll');\n    }\n  }\n\n  scrollEffect();\n  window.addEventListener('scroll', scrollEffect);\n\n  const navItemsRel = header.querySelectorAll('.header .nav__item.rel');\n\n  navItemsRel.forEach((item) => {\n    item.addEventListener('click', ev => {\n      item.classList.toggle('--active');\n    });\n  })\n}\n\nif (carouselServices) {\n  const list = carouselServices.querySelector('.carousel-services__list');\n\n  carouselServices.appendChild(list.cloneNode(true));\n  carouselServices.appendChild(list.cloneNode(true));\n  carouselServices.appendChild(list.cloneNode(true));\n  carouselServices.appendChild(list.cloneNode(true));\n  carouselServices.appendChild(list.cloneNode(true));\n  carouselServices.appendChild(list.cloneNode(true));\n  setInterval(() => {\n    carouselServices.scrollBy({ left: 1 });\n    if (carouselServices.children[1].getBoundingClientRect().left <= 0) {\n      carouselServices.scroll({ left: 0 });\n    }\n  }, 8);\n}\n\nif (faq) {\n  itemFaqs.forEach((itemFaq, index) => {\n    const btn = itemFaq.querySelector('.item-faq__button');\n    \n    btn.addEventListener('click', () => {\n      itemFaqs.forEach((itemFaq1, index1) => {\n        if (index !== index1) {\n          itemFaq1.classList.remove('--active');\n        }\n      });\n\n      itemFaq.classList.toggle('--active');\n    });\n  });\n}\n\nif (aboutVideo) {\n  const btn = aboutVideo.querySelector('.about-video>button');\n  btn.addEventListener('click', () => {\n    aboutVideo.classList.add('--active');\n  });\n}\n\nimgLinks.forEach( imgLink => {\n  const img = imgLoop.querySelector('.img-loop img');\n  const imgSmall = imgLink.querySelector('.img-link img');\n  imgLink.addEventListener('click', () => {\n    img.setAttribute('src', imgSmall.getAttribute('data-src'));\n    imgLoop.classList.add('--active');\n    document.body.classList.add('no-scroll');\n  });\n\n  imgLoop.addEventListener('click', (ev) => {\n    imgLoop.classList.remove('--active');\n    document.body.classList.remove('no-scroll');\n  })\n});\n\nif (reviews) {\n  const slider = reviews.querySelector('.reviews__slider .swiper');\n  const fiers = reviews.querySelector('.swiper-slide.rel .fiers');  \n\n  const swiper = new Swiper(slider, {\n    slidesPerView: 'auto',\n    spaceBetween: 15,\n\n    navigation: {\n      nextEl: '.reviews__slider .swiper-button-next',\n      prevEl: '.reviews__slider .swiper-button-prev',\n    }\n  });\n}\n\nreviewItems.forEach(review => {\n  const text = review.querySelector('.review__text');\n  const fullBtn = review.querySelector('.review__full-btn');\n\n  if (text.scrollHeight <= text.clientHeight) {\n    fullBtn.setAttribute('disabled', '');\n  }\n  \n  fullBtn.addEventListener('click', () => {\n    text.classList.add('--full');\n    fullBtn.setAttribute('disabled', '');\n    review.style.maxHeight = 'none';\n  })\n});\n\nreviewPhotos.forEach(review => {\n  /**\n   * @type {HTMLVideoElement}\n   */\n  const video = review.querySelector('video');\n  const btn = review.querySelector('button');\n  const playerVideoElem = playerVideo.querySelector('video');\n  \n\n  reviews.addEventListener('mousemove', (ev) => {\n    if (ev.composedPath().includes(review)) {\n      video.play();\n    } else {\n      video.pause();\n    }\n  });\n\n  reviews.addEventListener('touchmove', (ev) => {\n    if (ev.composedPath().includes(review)) {\n      review.classList.add('--hover');\n    } else {\n      review.classList.remove('--hover');\n    }\n  });\n\n  btn.addEventListener('click', () => {\n    playerVideo.classList.add('--opened');\n    document.body.classList.add('no-scroll');\n    playerVideoElem.play();\n  });\n\n  playerVideo.addEventListener('click', (ev) => {\n    const videoJs = playerVideo.querySelector('.video-js');\n    if (!ev.composedPath().includes(videoJs)) {\n      playerVideo.classList.remove('--opened');\n      document.body.classList.remove('no-scroll');\n      playerVideoElem.pause();\n    }\n  })\n})\n\nif (services) {\n  const items = services.querySelectorAll('.services__item');\n  \n  items.forEach((item, index) => {\n    const title = item.querySelector('.services__item-title');\n    \n    let num = index < 10 ? `0${index+1}`  : `${index+1}`;\n    title.innerHTML = `<b>${num}</b>${title.innerHTML}`;\n    \n    services.addEventListener('touchmove', ev => {\n      if (ev.composedPath().includes(item)) {\n        item.classList.add('--hover');\n      } else {\n        item.classList.remove('--hover');\n      }\n    })\n  });\n}\n\nif (cases) {\n  const aim = cases.querySelector('.aim-icon');\n  const items = cases.querySelectorAll('.case-short');\n\n  // Aim position\n  cases.addEventListener('mousemove', ev => {\n    aim.style.left = ev.clientX+ 'px';\n    aim.style.top = ev.clientY+ 'px';\n    aim.classList.add('--hover');\n  });\n  cases.addEventListener('mouseleave', () => {\n    aim.classList.remove('--hover');\n  });\n  \n  items.forEach((item, index) => {\n    // Aim scale\n    item.addEventListener('mouseenter', ev => {\n      aim.classList.add('--in-item');\n    });\n    item.addEventListener('mouseleave', ev => {\n      aim.classList.remove('--in-item');\n    });\n\n    // Open popup\n    item.addEventListener('click', ev => {\n      const href = item.getAttribute('href');\n\n      const popup = document.querySelector(href);\n      const closePopupBtn = popup.querySelector('.case-popup__close-btn');\n\n      popup.classList.add('--active');\n      document.body.classList.add('no-scroll');\n\n      closePopupBtn.addEventListener('click', () => {\n        popup.classList.remove('--active');\n        document.body.classList.remove('no-scroll');\n      });\n    })\n  })\n}\n\nif (casesGrid) {\n  const items = casesGrid.querySelectorAll('.cases-grid__item');\n\n  items.forEach((item, index) => {\n    item.addEventListener('click', (ev) => {\n      const href = item.getAttribute('href');\n\n      const popup = document.querySelector(href);\n      const closePopupBtn = popup.querySelector('.case-popup__close-btn');\n\n      popup.classList.add('--active');\n      document.body.classList.add('no-scroll');\n\n      closePopupBtn.addEventListener('click', () => {\n        popup.classList.remove('--active');\n        document.body.classList.remove('no-scroll');\n      });\n    })\n  })\n}\n\nif (getCxMarket) {\n  const fixWrap = getCxMarket.querySelector('.get-cx-market__fix-wrap');\n  const items = getCxMarket.querySelectorAll('.get-cx-market__item');\n\n  const SCROLL_SH = 250; // scroll step height\n  const MOBILE = 980; // mobile breakpoint\n  const ITEMS_COUNT = items.length; // items count (3)\n\n  const scrollAnim = () => {\n    if (window.innerWidth > MOBILE) {\n      const rect = getCxMarket.getBoundingClientRect(); // backdrop rect\n      const fRect = fixWrap.getBoundingClientRect(); // fix wrap rect\n      const height = fRect.height + SCROLL_SH * ITEMS_COUNT; // height of backdrop\n\n      getCxMarket.style.height = height + 'px';\n      \n      if (rect.top <= 0 && rect.bottom >= fRect.height) {\n        header.classList.add('--scroll-look');\n        fixWrap.classList.add('--fixed');\n        fixWrap.classList.remove('--bottom');\n        \n        items.forEach((item, i) => {\n          if (i !== 0) {\n            item.style.marginTop = `${\n              clamp(\n                rect.top + SCROLL_SH * (items.length - 1) - i * SCROLL_SH, \n                i* SCROLL_SH - (i+1) * SCROLL_SH, \n                0)\n            }px`;\n          }\n        });\n      } else if (rect.bottom < fRect.height)  {\n        header.classList.remove('--scroll-look');\n        fixWrap.classList.remove('--fixed');\n        fixWrap.classList.add('--bottom');\n      } else {\n        header.classList.remove('--scroll-look');\n        fixWrap.classList.remove('--fixed');\n        fixWrap.classList.remove('--bottom');\n      }\n    }\n  }\n  scrollAnim();\n  window.addEventListener('scroll', scrollAnim);\n}\n\nif (stepsVector) {\n  const listBackdrop = stepsVector.querySelector('.steps-vector__list-backdrop');\n  const list = stepsVector.querySelector('.steps-vector__list');\n\n  if (list && listBackdrop && window.innerWidth > 1362) {\n    const rows = list.querySelectorAll('.steps-vector__l-row');\n\n    const SCROLL_SH = 800;\n        \n    const scrollAnim = () => {\n      const rect = list.getBoundingClientRect();\n      const bRect = listBackdrop.getBoundingClientRect();\n      const lrRect = rows[rows.length - 1].getBoundingClientRect();\n      \n      listBackdrop.style.height = `${\n        SCROLL_SH * rows.length + lrRect.height\n      }px`; // Init backdrop height\n\n       // If list is in viewport\n      if (bRect.top <= 0 && bRect.bottom >= lrRect.height) {\n        header.classList.add('--scroll-look');\n        list.dataset.pos = \"fixed\";\n        list.style.top = null;\n      // If scroll down\n      } else if (bRect.bottom < lrRect.height) {\n        header.classList.remove('--scroll-look');\n        list.dataset.pos = null;\n        list.style.transform  = `translateY(${rect.y - lrRect.y}px)`;\n        list.style.top = `${\n          bRect.height - rect.height - \n          (rect.y - lrRect.y)\n        }px`;\n      // If scroll up\n      } else {\n        header.classList.remove('--scroll-look');\n        list.dataset.pos = null;\n        list.style.transform  = `translateY(0px)`;\n        list.style.top = null;\n      }\n\n      // If scroll rows\n      rows.forEach((row, rIndex) => {\n        const vector = row.querySelector('._vector');\n        const arrow = row.querySelector('._arrow');\n        const items = row.querySelectorAll('.steps-vector__item');\n        \n        const rowRect = row.getBoundingClientRect();\n        const vectorRect = vector.getBoundingClientRect();\n\n        // Vector scroll animation\n        vector.style.width = `${\n          clamp(\n            (-bRect.top / SCROLL_SH) - rIndex,\n            -items.length + 1,\n            2\n          ) * 100\n        }%`;\n\n        // Arrow scroll animation\n        if (arrow) {\n          arrow.style.transform = `translateX(${\n            clamp(\n              -bRect.top / SCROLL_SH - rIndex,\n              0,\n              1\n            ) * 80\n          }px)`;\n        }\n        \n        // Arrow rotate animation on hover\n        items.forEach((item, i) => {\n          item.addEventListener('mouseenter', ev => {\n            arrow.style.rotate = `20deg`;\n          });\n          item.addEventListener('mouseleave', ev => {\n            arrow.style.rotate = `0deg`;\n          })\n        })\n          \n        // If scroll in row\n        if (bRect.top <= rIndex * -SCROLL_SH &&\n          bRect.top > (rIndex + 1) * -SCROLL_SH\n        ) {\n          // Move top position row\n          list.style.transform  = `translateY(${rect.y - rowRect.y}px)`;\n\n          items.forEach((item, iIndex) => {\n            const icon = item.querySelector('img');\n            const text = item.querySelector('.steps-vector__item-text');\n            const itemRect = item.getBoundingClientRect();\n            const iconRect = icon.getBoundingClientRect();\n\n            // Pulse animation vector\n            if (vectorRect.right >= iconRect.left && vectorRect.right <= iconRect.right) {\n              vector.classList.add('--pulse');\n              vector.addEventListener('transitionend', () => {\n                vector.classList.remove('--pulse');\n              });\n            }\n\n            // If vector > item left dot\n            if (vectorRect.right > itemRect.left && vectorRect.width > 100) {\n              let progress = clamp((vectorRect.right - itemRect.left) / itemRect.width , 0, 1);\n              \n              icon.style.transform = `rotate(${\n                Math.abs(Math.sin(progress * Math.PI) * 30)\n              }deg)`;\n\n              icon.style.opacity = (80 + progress * 20) + '%';\n              icon.style.filter = `blur(${(1 - progress) * 3}px)`;\n\n              // And < right dot\n              if (vectorRect.right < itemRect.right) {\n                item.classList.add('--active');\n              } else {\n                item.classList.remove('--active');\n              }\n            } else {\n              icon.style.transform = null;\n              icon.style.opacity = null;\n              icon.style.filter = null;\n              item.classList.remove('--active');\n            }\n          })\n        }\n      })\n    }\n\n    window.addEventListener('load', scrollAnim);\n    window.addEventListener('scroll', scrollAnim);\n  }\n}\n\nmouseMoveAnim.forEach(el => {\n  const move = Number(el.dataset.move) || 30;\n  let startX = 0;\n  let startY = 0;\n\n  el.addEventListener('mouseenter', (ev) => {\n    el.setAttribute('mouseevent', 'enter');\n    startX = ev.clientX;\n    startY = ev.clientY;\n  })\n  el.addEventListener('mousemove', (ev) => {\n    el.setAttribute('mouseevent', 'move');\n\n    const rect = el.getBoundingClientRect();\n    const x = (ev.clientX - startX) / rect.width * move;\n    const y = (ev.clientY - startY) / rect.height * move;\n\n    el.style.translate = `\n      ${x}px\n      ${y}px\n    `;\n  });\n  el.addEventListener('mouseleave', (ev) => {\n    el.setAttribute('mouseevent','leave');\n    el.style.translate = '0 0';\n  });\n});\n\ntextCcolorAnim.forEach(el => {\n  const SCROLL_H = Number(el.dataset.scrollh) || 500;\n\n  let words = el.textContent.split('\\n').join(' ').split(' ');\n  let spans = '';\n  words.forEach((word, i) => {\n    if (word.length > 0) {\n      spans += `<span class=\"_word\">${word}</span> `;\n    }\n  });\n  \n  el.innerHTML = spans;\n  let spansArr = el.querySelectorAll('span._word');\n\n  const textAnimation = () => {\n    let spanH = SCROLL_H / spansArr.length; // (35.71)\n    let rect = aboutYadirect.getBoundingClientRect();\n    let top = clamp(-rect.top + SCROLL_H, 0, SCROLL_H);\n    \n    spansArr.forEach((span, i) => {\n      span.style.transition = null;\n      span.style.opacity = `${\n        clamp((top - spanH * i) / spanH, 0, 1) * 0.7 + 0.3\n      }`;\n    });\n  }\n  \n  window.addEventListener('load', textAnimation);\n  window.addEventListener('scroll', textAnimation);\n});"],"mappings":"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","ignoreList":[]}